crystal_doc_search_index_callback({"repository_name":"json-schema-cr","body":"[![GitHub release](https://img.shields.io/github/release/aarongodin/json-schema-cr.svg)](https://github.com/aarongodin/json-schema-cr/releases)\n[![CI](https://github.com/aarongodin/json-schema-cr/actions/workflows/crystal.yml/badge.svg)](https://github.com/aarongodin/json-schema-cr/actions/workflows/crystal.yml)\n![GitHub](https://img.shields.io/github/license/aarongodin/json-schema-cr?style=plastic)\n\n# json-schema-cr\n\nComprehensive [JSON Schema](https://json-schema.org/) validation and generator for Crystal.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     json-schema-cr:\n       github: aarongodin/json-schema-cr\n   ```\n\n2. Run `shards install`\n\n## Overview\n\n* Read JSON files from your file system **at compile time** and generate Crystal code to convert a JSON Schema document to a `JSONSchema::Validator` object.\n* Create `JSONSchema::Validator` instances during runtime by providing JSON input to `JSONSchema.from_json()`\n* Build `JSONSchema::Validator` objects using a fluent API directly in your application code.\n\n## Usage\n\n### Generating Validators\n\nGenerate code using the provided macros which output a reference to a `JSONSchema::Validator` object. You can assign the value to a variable or use it any place an expression can be used.\n\n```crystal\nrequire \"json-schema-cr\"\nvalidator = JSONSchema.create_validator \"my_schema.json\"\n```\n\nYou can use `create_validator_method` to define a method that returns the reference to the `JSONSchema::Validator`.\n\n```crystal\nclass RequestBody\n  JSONSchema.create_validator_method \"my_schema.json\"\nend\n```\n\nThis is syntactically equivalent to:\n\n```crystal\nclass RequestBody\n  def validator : JSONSchema::Validator\n    JSONSchema.create_validator \"my_schema.json\"\n  end\nend\n```\n\nThe `create_validator_method` macro allows you to also customize the method name that is generated by passing a second argument:\n\n```crystal\nclass ExampleRoute\n  JSONSchema.create_validator_method \"request_schema.json\", \"request_body_validator\"\n  JSONSchema.create_validator_method \"response_schema.json\", \"response_body_validator\"\nend\n\nr = ExampleRoute.new\n\nr.request_body_validator # => #<JSONSchema::ObjectValidator:...\nr.response_body_validator # => #<JSONSchema::ObjectValidator:...\n```\n\n> **Omitting extension**: You can omit the file extension in any of the macros, in which case a file with `.json` as the extension will be loaded.\n> ex:\n> ```crystal\n> JSONSchema.create_validator \"my_schema\" # => Loads \"my_schema.json\"\n> ```\n\n### Validating JSON\n\nUse the `#validate` method on any generated validator to receive a `JSONSchema::ValidationResult`:\n\n```crystal\nrequire \"json\"\nrequire \"json-schema-cr\"\n\nclass RequestBody\n  JSONSchema.create_validator_method \"my_schema.json\"\nend\n\nrequest_body = RequestBody.new\ninput_json = JSON.parse(%{{\"test\": \"example\"}})\n\nrequest_body.validator.validate(input_json) # => JSONSchema::ValidationResult(@status=:success, @errors=[])\n```\n\nThe `JSONSchema::ValidationResult` will contain either `:success` or `:error` as the `status`. On `:error`, you can check the `@errors` array for a list of `JSONSchema::ValidationError` and respond in your code accordingly.\n\n### Context\n\nWhen a `ValidationError` is created, it includes a `NodeContext` object which represents the location where the error occurred. You can get the value from this location by using `NodeContext#dig_into`:\n\n```crystal\nresult = validator.validate(input_json)\nresult.errors[0].context.dig_into(input_json) # => returns JSON::Any() that wraps value at that location\n```\n\nYou can get a string path with `NodeContext#to_s` similar to what `jq` ([ref](https://stedolan.github.io/jq/)) uses for pathing.\n\n```crystal\nresult = validator.validate(input_json)\nresult.errors[0].context.to_s # => String such as \".person.name\" or \".example[2].title\"\n```\n\n### Create From JSON Input\n\nUse the `.from_json` method to create `JSONSchema::Validator` objects from any parsed JSON.\n\n```crystal\nvalidator = JSONSchema.from_json(JSON.parse(\n  <<-JSON\n    {\n      \"type\": \"object\",\n      \"properties\": {\n        \"name\": {\n          \"type\": \"string\"\n        }\n      }\n    }\n  JSON\n))\n\nvalidator.validate(JSON.parse(\"...elided\")) # => JSONSchema::ValidationResult(@status=:success, @errors=[])\n```\n\n## json-schema Features\n\n### Core Types\n\nAll JSON Schema types _are_ supported!\n\n* `string`\n* `number` and `integer`\n* `array`\n* `object`\n* `null`\n* `boolean`\n\nThe generic keywords `const` and `enum` are also supported.\n\n* `enum` can be provided either as a generic keyword (schema without a `type` value), or on a typed schema.\n* `const` may only be provided as a generic keyword.\n\n### Composite Schema\n\nComposite schemas using `not`, `anyOf`, `allOf`, or `oneOf` _are_ supported! These can be used on any schema, including a generic one with no `type`.\n\n### Conditional Schema\n\nUsing `dependentRequired`, `dependentSchemas` and `if-then-else` _are_ supported!\n\n### String Formats\n\nJSON Schema provides a number of format keywords that require the validation to restrict the string to values matching the format. This module pulls in [crystal-validator](https://github.com/Nicolab/crystal-validator) to perform most of the validations, and relies on regex for the rest.\n\n### Illogical Schema\n\nIt's possible to make a JSON schema that is logically impossible. For example, you could create a composite schema that checks that a value is both a number and a string. The generator tries to prevent this from happening. Since the schema is processed through macros, it seems better to present you a compile error that the schema is illogical than to allow you to use a schema that would be additional work to support in the code, but not actually validate anything.\n\nCalling this out here as this is different behavior than most JSON Schema tools out there. Many libraries implement the rules and rely on the user to write a logical schema.\n\n## Unsupported\n\nThese features of JSON Schema are not yet supported, but will be supported in a future release (at least before `1.0.0`).\n\n* [References](https://json-schema.org/understanding-json-schema/structuring.html#ref), `$id`, `$anchor`, and any other relationship-driven schema definition.\n* [Media Types](https://json-schema.org/understanding-json-schema/reference/non_json_data.html)\n\n### Dialects\n\nThe latest revision of this shard only supports the latest revision of JSON Schema (2020-12). There is not yet support for using a different dialect.\n\n## Roadmap\n\nI would like to focus on these features beyond JSON schema that will make this library more useful in a variety of implementations:\n\n1. **Message customization/i18n**: This module has a list of error messages that should be made customizable.\n\n## Acknowledgements\n\nThe source for this shard is inspired by the `ECR` and `JSON` implementations from the std lib. Thanks to the Crystal team for creating an amazing standard library!","program":{"html_id":"json-schema-cr/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"json-schema-cr","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"json-schema-cr/JSONSchema","path":"JSONSchema.html","kind":"module","full_name":"JSONSchema","name":"JSONSchema","abstract":false,"locations":[{"filename":"src/define.cr","line_number":7,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/define.cr#L7"},{"filename":"src/error.cr","line_number":1,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/error.cr#L1"},{"filename":"src/format.cr","line_number":14,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L14"},{"filename":"src/json_schema.cr","line_number":5,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/json_schema.cr#L5"},{"filename":"src/node_context.cr","line_number":1,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L1"},{"filename":"src/process.cr","line_number":8,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/process.cr#L8"},{"filename":"src/render.cr","line_number":41,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L41"},{"filename":"src/validator.cr","line_number":6,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L6"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"\"0.1.0\""}],"extended_modules":[{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"}],"class_methods":[{"html_id":"from_json(node:JSON::Any):Validator-class-method","name":"from_json","doc":"Generates a `Validator` object from the `JSON::Any` provided as input.\nRaises if the schema is not created due to invalid schema.\nTo generate the schema at compile time, see the `JSONSchema#create_validator` macro.\n\n```\nschema = JSON.parse(%<{\"type\": \"string\"}>)\nvalidator = JSONSchema::Runtime.create_validator schema\n```","summary":"<p>Generates a <code><a href=\"JSONSchema/Validator.html\">Validator</a></code> object from the <code>JSON::Any</code> provided as input.</p>","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"}],"args_string":"(node : JSON::Any) : Validator","args_html":"(node : JSON::Any) : <a href=\"JSONSchema/Validator.html\">Validator</a>","location":{"filename":"src/json_schema.cr","line_number":61,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/json_schema.cr#L61"},"def":{"name":"from_json","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"}],"return_type":"Validator","visibility":"Public","body":"begin\n  node.as_h\nrescue\n  raise(InvalidSchemaJSONError.new(\"root node must be an object\"))\nend\ndefine_schema(node)\n"}},{"html_id":"from_json?(node:JSON::Any):Validator?-class-method","name":"from_json?","doc":"Generates a `Validator` object from the `JSON::Any` provided as input.\nReturns `nil` if a validator cannot be created from the input JSON.\n\n```\nschema = JSON.parse(%<{\"type\": \"string\"}>)\nvalidator = JSONSchema::Runtime.create_validator schema\n```","summary":"<p>Generates a <code><a href=\"JSONSchema/Validator.html\">Validator</a></code> object from the <code>JSON::Any</code> provided as input.</p>","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"}],"args_string":"(node : JSON::Any) : Validator?","args_html":"(node : JSON::Any) : <a href=\"JSONSchema/Validator.html\">Validator</a>?","location":{"filename":"src/json_schema.cr","line_number":73,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/json_schema.cr#L73"},"def":{"name":"from_json?","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"}],"return_type":"Validator | ::Nil","visibility":"Public","body":"begin\n  define_schema(node)\nrescue\n  nil\nend"}},{"html_id":"validate_enum(value:JSON::Any,enum_list:Array(JSON::Any),context:NodeContext):ValidationError?-class-method","name":"validate_enum","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"JSON::Any"},{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"},{"name":"context","external_name":"context","restriction":"NodeContext"}],"args_string":"(value : JSON::Any, enum_list : Array(JSON::Any), context : NodeContext) : ValidationError?","args_html":"(value : JSON::Any, enum_list : Array(JSON::Any), context : <a href=\"JSONSchema/NodeContext.html\">NodeContext</a>) : <a href=\"JSONSchema/ValidationError.html\">ValidationError</a>?","location":{"filename":"src/validator.cr","line_number":39,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L39"},"def":{"name":"validate_enum","args":[{"name":"value","external_name":"value","restriction":"JSON::Any"},{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"},{"name":"context","external_name":"context","restriction":"NodeContext"}],"return_type":"ValidationError | ::Nil","visibility":"Public","body":"found_match = false\nitem_iterator = enum_list.each.take_while do |item|\n  !found_match\nend\ncurrent_item = item_iterator.next\nwhile current_item.is_a?(JSON::Any)\n  found_match = value == current_item\n  current_item = item_iterator.next\nend\nif found_match\n  return nil\nend\nValidationError.new(\"Expected value to be equal to the enum\", context)\n"}}],"macros":[{"html_id":"create_validator(filename)-macro","name":"create_validator","doc":"Generates code for a `Validator` object from the JSON schema in `filename`.\n\n```\nvalidator = JSONSchema.create_validator \"my_schema.json\"\n```","summary":"<p>Generates code for a <code><a href=\"JSONSchema/Validator.html\">Validator</a></code> object from the JSON schema in <code>filename</code>.</p>","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""}],"args_string":"(filename)","args_html":"(filename)","location":{"filename":"src/json_schema.cr","line_number":13,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/json_schema.cr#L13"},"def":{"name":"create_validator","args":[{"name":"filename","external_name":"filename","restriction":""}],"visibility":"Public","body":"    \n{{ run(\"./process\", filename) }}\n\n  \n"}},{"html_id":"create_validator_method(filename)-macro","name":"create_validator_method","doc":"Generates code for defining a method that returns a `Validator` object from the JSON schema in `filename`.\n\n```\nclass Body\n  JSONSchema.create_validator_method \"my_schema.json\"\nend\n\nb = Body.new\nb.validator # => #<JSONSchema::ObjectValidator:...\n```","summary":"<p>Generates code for defining a method that returns a <code><a href=\"JSONSchema/Validator.html\">Validator</a></code> object from the JSON schema in <code>filename</code>.</p>","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""}],"args_string":"(filename)","args_html":"(filename)","location":{"filename":"src/json_schema.cr","line_number":27,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/json_schema.cr#L27"},"def":{"name":"create_validator_method","args":[{"name":"filename","external_name":"filename","restriction":""}],"visibility":"Public","body":"    def validator : JSONSchema::Validator\n      \n{{ run(\"./process\", filename) }}\n\n    \nend\n  \n"}},{"html_id":"create_validator_method(filename,method_name)-macro","name":"create_validator_method","doc":"Generates code for defining a method that returns a `Validator` object from the JSON schema in `filename`,\nwith a custom method name.\n\n```\nclass Request\n  JSONSchema.create_validator_method \"request_schema.json\", \"request_body_validator\"\n  JSONSchema.create_validator_method \"response_schema.json\", \"response_body_validator\"\nend\n\nr = Request.new\n\nr.request_body_validator  # => #<JSONSchema::ObjectValidator:...\nr.response_body_validator # => #<JSONSchema::ObjectValidator:...\n```","summary":"<p>Generates code for defining a method that returns a <code><a href=\"JSONSchema/Validator.html\">Validator</a></code> object from the JSON schema in <code>filename</code>, with a custom method name.</p>","abstract":false,"args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"method_name","external_name":"method_name","restriction":""}],"args_string":"(filename, method_name)","args_html":"(filename, method_name)","location":{"filename":"src/json_schema.cr","line_number":47,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/json_schema.cr#L47"},"def":{"name":"create_validator_method","args":[{"name":"filename","external_name":"filename","restriction":""},{"name":"method_name","external_name":"method_name","restriction":""}],"visibility":"Public","body":"    def \n{{ method_name }}\n : JSONSchema::Validator\n      \n{{ run(\"./process\", filename) }}\n\n    \nend\n  \n"}}],"types":[{"html_id":"json-schema-cr/JSONSchema/ArrayValidator","path":"JSONSchema/ArrayValidator.html","kind":"class","full_name":"JSONSchema::ArrayValidator","name":"ArrayValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":161,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L161"},{"filename":"src/validator.cr","line_number":213,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L213"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema where the `type` is `array`.\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema where the <code>type</code> is <code>array</code>.</p>","instance_methods":[{"html_id":"composites:Array(CompositeValidator)-instance-method","name":"composites","abstract":false,"location":{"filename":"src/validator.cr","line_number":224,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L224"},"def":{"name":"composites","return_type":"Array(CompositeValidator)","visibility":"Public","body":"@composites"}},{"html_id":"composites=(composites:Array(CompositeValidator))-instance-method","name":"composites=","abstract":false,"args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"args_string":"(composites : Array(CompositeValidator))","args_html":"(composites : Array(<a href=\"../JSONSchema/CompositeValidator.html\">CompositeValidator</a>))","location":{"filename":"src/validator.cr","line_number":224,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L224"},"def":{"name":"composites=","args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"visibility":"Public","body":"@composites = composites"}},{"html_id":"contains:Validator?-instance-method","name":"contains","abstract":false,"location":{"filename":"src/validator.cr","line_number":217,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L217"},"def":{"name":"contains","return_type":"Validator | ::Nil","visibility":"Public","body":"@contains"}},{"html_id":"contains=(contains:Validator?)-instance-method","name":"contains=","abstract":false,"args":[{"name":"contains","external_name":"contains","restriction":"Validator | ::Nil"}],"args_string":"(contains : Validator?)","args_html":"(contains : <a href=\"../JSONSchema/Validator.html\">Validator</a>?)","location":{"filename":"src/validator.cr","line_number":217,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L217"},"def":{"name":"contains=","args":[{"name":"contains","external_name":"contains","restriction":"Validator | ::Nil"}],"visibility":"Public","body":"@contains = contains"}},{"html_id":"enum_list:Array(JSON::Any)-instance-method","name":"enum_list","abstract":false,"location":{"filename":"src/validator.cr","line_number":223,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L223"},"def":{"name":"enum_list","return_type":"Array(JSON::Any)","visibility":"Public","body":"@enum_list"}},{"html_id":"enum_list=(enum_list:Array(JSON::Any))-instance-method","name":"enum_list=","abstract":false,"args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"args_string":"(enum_list : Array(JSON::Any))","args_html":"(enum_list : Array(JSON::Any))","location":{"filename":"src/validator.cr","line_number":223,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L223"},"def":{"name":"enum_list=","args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"visibility":"Public","body":"@enum_list = enum_list"}},{"html_id":"has_disabled_additional_items:Bool-instance-method","name":"has_disabled_additional_items","abstract":false,"location":{"filename":"src/validator.cr","line_number":216,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L216"},"def":{"name":"has_disabled_additional_items","visibility":"Public","body":"@has_disabled_additional_items"}},{"html_id":"has_disabled_additional_items=(has_disabled_additional_items)-instance-method","name":"has_disabled_additional_items=","abstract":false,"args":[{"name":"has_disabled_additional_items","external_name":"has_disabled_additional_items","restriction":""}],"args_string":"(has_disabled_additional_items)","args_html":"(has_disabled_additional_items)","location":{"filename":"src/validator.cr","line_number":216,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L216"},"def":{"name":"has_disabled_additional_items=","args":[{"name":"has_disabled_additional_items","external_name":"has_disabled_additional_items","restriction":""}],"visibility":"Public","body":"@has_disabled_additional_items = has_disabled_additional_items"}},{"html_id":"items:Validator?-instance-method","name":"items","abstract":false,"location":{"filename":"src/validator.cr","line_number":214,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L214"},"def":{"name":"items","return_type":"Validator | ::Nil","visibility":"Public","body":"@items"}},{"html_id":"items=(items:Validator?)-instance-method","name":"items=","abstract":false,"args":[{"name":"items","external_name":"items","restriction":"Validator | ::Nil"}],"args_string":"(items : Validator?)","args_html":"(items : <a href=\"../JSONSchema/Validator.html\">Validator</a>?)","location":{"filename":"src/validator.cr","line_number":214,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L214"},"def":{"name":"items=","args":[{"name":"items","external_name":"items","restriction":"Validator | ::Nil"}],"visibility":"Public","body":"@items = items"}},{"html_id":"max_contains:Int32?-instance-method","name":"max_contains","abstract":false,"location":{"filename":"src/validator.cr","line_number":219,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L219"},"def":{"name":"max_contains","return_type":"Int32 | ::Nil","visibility":"Public","body":"@max_contains"}},{"html_id":"max_contains=(max_contains:Int32?)-instance-method","name":"max_contains=","abstract":false,"args":[{"name":"max_contains","external_name":"max_contains","restriction":"Int32 | ::Nil"}],"args_string":"(max_contains : Int32?)","args_html":"(max_contains : Int32?)","location":{"filename":"src/validator.cr","line_number":219,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L219"},"def":{"name":"max_contains=","args":[{"name":"max_contains","external_name":"max_contains","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@max_contains = max_contains"}},{"html_id":"max_items:Int32?-instance-method","name":"max_items","abstract":false,"location":{"filename":"src/validator.cr","line_number":221,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L221"},"def":{"name":"max_items","return_type":"Int32 | ::Nil","visibility":"Public","body":"@max_items"}},{"html_id":"max_items=(max_items:Int32?)-instance-method","name":"max_items=","abstract":false,"args":[{"name":"max_items","external_name":"max_items","restriction":"Int32 | ::Nil"}],"args_string":"(max_items : Int32?)","args_html":"(max_items : Int32?)","location":{"filename":"src/validator.cr","line_number":221,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L221"},"def":{"name":"max_items=","args":[{"name":"max_items","external_name":"max_items","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@max_items = max_items"}},{"html_id":"min_contains:Int32?-instance-method","name":"min_contains","abstract":false,"location":{"filename":"src/validator.cr","line_number":218,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L218"},"def":{"name":"min_contains","return_type":"Int32 | ::Nil","visibility":"Public","body":"@min_contains"}},{"html_id":"min_contains=(min_contains:Int32?)-instance-method","name":"min_contains=","abstract":false,"args":[{"name":"min_contains","external_name":"min_contains","restriction":"Int32 | ::Nil"}],"args_string":"(min_contains : Int32?)","args_html":"(min_contains : Int32?)","location":{"filename":"src/validator.cr","line_number":218,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L218"},"def":{"name":"min_contains=","args":[{"name":"min_contains","external_name":"min_contains","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@min_contains = min_contains"}},{"html_id":"min_items:Int32?-instance-method","name":"min_items","abstract":false,"location":{"filename":"src/validator.cr","line_number":220,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L220"},"def":{"name":"min_items","return_type":"Int32 | ::Nil","visibility":"Public","body":"@min_items"}},{"html_id":"min_items=(min_items:Int32?)-instance-method","name":"min_items=","abstract":false,"args":[{"name":"min_items","external_name":"min_items","restriction":"Int32 | ::Nil"}],"args_string":"(min_items : Int32?)","args_html":"(min_items : Int32?)","location":{"filename":"src/validator.cr","line_number":220,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L220"},"def":{"name":"min_items=","args":[{"name":"min_items","external_name":"min_items","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@min_items = min_items"}},{"html_id":"prefix_items:Array(Validator)-instance-method","name":"prefix_items","abstract":false,"location":{"filename":"src/validator.cr","line_number":215,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L215"},"def":{"name":"prefix_items","return_type":"Array(Validator)","visibility":"Public","body":"@prefix_items"}},{"html_id":"prefix_items=(prefix_items:Array(Validator))-instance-method","name":"prefix_items=","abstract":false,"args":[{"name":"prefix_items","external_name":"prefix_items","restriction":"Array(Validator)"}],"args_string":"(prefix_items : Array(Validator))","args_html":"(prefix_items : Array(<a href=\"../JSONSchema/Validator.html\">Validator</a>))","location":{"filename":"src/validator.cr","line_number":215,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L215"},"def":{"name":"prefix_items=","args":[{"name":"prefix_items","external_name":"prefix_items","restriction":"Array(Validator)"}],"visibility":"Public","body":"@prefix_items = prefix_items"}},{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":164,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L164"},"def":{"name":"to_cr","visibility":"Public","body":"options = {} of String => String\nif @items.nil?\nelse\n  options[\"items\"] = (@items.as(Validator)).to_cr\nend\nif @prefix_items.size == 0\nelse\n  options[\"prefix_items\"] = \"[#{@prefix_items.join(\", \", &.to_cr)}] of JSONSchema::Validator\"\nend\nif @has_disabled_additional_items\n  options[\"has_disabled_additional_items\"] = \"true\"\nend\nif @contains.nil?\nelse\n  options[\"contains\"] = (@contains.as(Validator)).to_cr\nend\nif @min_contains.nil?\nelse\n  options[\"min_contains\"] = @min_contains.to_s\nend\nif @max_contains.nil?\nelse\n  options[\"max_contains\"] = @max_contains.to_s\nend\nif @min_items.nil?\nelse\n  options[\"min_items\"] = @min_items.to_s\nend\nif @max_items.nil?\nelse\n  options[\"max_items\"] = @max_items.to_s\nend\nif @unique_items\n  options[\"unique_items\"] = \"true\"\nend\nif @enum_list.size == 0\nelse\n  options[\"enum_list\"] = stringify_enum_list(@enum_list)\nend\nif @composites.size == 0\nelse\n  options[\"composites\"] = \"[#{@composites.join(\", \", &.to_cr)}]\"\nend\ncreate_instance(options)\n"}},{"html_id":"unique_items:Bool-instance-method","name":"unique_items","abstract":false,"location":{"filename":"src/validator.cr","line_number":222,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L222"},"def":{"name":"unique_items","visibility":"Public","body":"@unique_items"}},{"html_id":"unique_items=(unique_items)-instance-method","name":"unique_items=","abstract":false,"args":[{"name":"unique_items","external_name":"unique_items","restriction":""}],"args_string":"(unique_items)","args_html":"(unique_items)","location":{"filename":"src/validator.cr","line_number":222,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L222"},"def":{"name":"unique_items=","args":[{"name":"unique_items","external_name":"unique_items","restriction":""}],"visibility":"Public","body":"@unique_items = unique_items"}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new)-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new)","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>)","location":{"filename":"src/validator.cr","line_number":226,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L226"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"visibility":"Public","body":"value = begin\n  node.as_a\nrescue\n  return ValidationResult.new(:error, [ValidationError.new(\"Expected value to be an array\", context)])\nend\nerrors = [] of ValidationError\nif @items.nil?\nelse\n  value.each_with_index do |item, i|\n    result = (@items.as(Validator)).validate(item)\n    if (    result.status == (:error))\n      errors.concat(result.errors)\n    end\n  end\nend\nif @prefix_items.size == 0\nelse\n  (@prefix_items.as(Array)).each_with_index do |prefix_item, i|\n    result = prefix_item.validate(value[i])\n    if (    result.status == (:error))\n      errors.concat(result.errors)\n    end\n  end\n  if @has_disabled_additional_items && value.size > @prefix_items.size\n    errors.push(ValidationError.new(\"Expected array to be tuple of length #{@prefix_items.size}\", context))\n  end\nend\nif @contains.nil?\nelse\n  if (!@max_contains.nil?) || (!@min_contains.nil?)\n    value_contains_results = value.select do |item|\n      ((@contains.as(Validator)).validate(item)).status == (:success)\n    end\n    if @min_contains.nil?\n    else\n      if value_contains_results.size < (@min_contains.as(Int32))\n        errors.push(ValidationError.new(\"Expected array to contain at least #{@min_contains} matched items\", context))\n      end\n    end\n    if @max_contains.nil?\n    else\n      if value_contains_results.size > (@max_contains.as(Int32))\n        errors.push(ValidationError.new(\"Expected array to contain at most #{@max_contains} matched items\", context))\n      end\n    end\n  else\n    found_contains = false\n    item_iterator = value.each.take_while do |item|\n      !found_contains\n    end\n    current_item = item_iterator.next\n    while current_item.is_a?(JSON::Any)\n      result = (@contains.as(Validator)).validate(current_item)\n      if (      result.status == (:success))\n        found_contains = true\n      end\n      current_item = item_iterator.next\n    end\n    if !found_contains\n      errors.push(ValidationError.new(\"Expected array to contain at least 1 matched item\", context))\n    end\n  end\nend\nif @min_items.nil?\nelse\n  if value.size < (@min_items.as(Int32))\n    errors.push(ValidationError.new(\"Expected array length to be at least #{@min_items}\", context))\n  end\nend\nif @min_items.nil?\nelse\n  if value.size > (@max_items.as(Int32))\n    errors.push(ValidationError.new(\"Expected array length to be at most #{@max_items}\", context))\n  end\nend\nif @unique_items\n  if value.uniq.size != value.size\n    errors.push(ValidationError.new(\"Expected array items to be unique\", context))\n  end\nend\nif @enum_list.size == 0\nelse\n  enum_result = JSONSchema.validate_enum(node, @enum_list, context)\n  if enum_result.nil?\n  else\n    errors.push(enum_result.as(ValidationError))\n  end\nend\nvalidate_composites(@composites, node, errors)\nif errors.size > 0\n  return ValidationResult.new(:error, errors)\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/BooleanValidator","path":"JSONSchema/BooleanValidator.html","kind":"class","full_name":"JSONSchema::BooleanValidator","name":"BooleanValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":297,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L297"},{"filename":"src/validator.cr","line_number":471,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L471"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema where the `type` is `boolean`.\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema where the <code>type</code> is <code>boolean</code>.</p>","instance_methods":[{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":298,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L298"},"def":{"name":"to_cr","visibility":"Public","body":"\"JSONSchema::BooleanValidator.new\""}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new)-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new)","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>)","location":{"filename":"src/validator.cr","line_number":472,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L472"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"visibility":"Public","body":"begin\n  node.as_bool\nrescue\n  return ValidationResult.new(:error, [ValidationError.new(\"Expected value to be a boolean\", context)])\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/CompositeValidator","path":"JSONSchema/CompositeValidator.html","kind":"class","full_name":"JSONSchema::CompositeValidator","name":"CompositeValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":303,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L303"},{"filename":"src/validator.cr","line_number":483,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L483"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema that has any of the keywords for [composite/compound schema](https://json-schema.org/understanding-json-schema/reference/combining.html)\nset as a property. The possible keywords are `allOf`, `anyOf`, `oneOf`, and `not`.\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema that has any of the keywords for <a href=\"https://json-schema.org/understanding-json-schema/reference/combining.html\">composite/compound schema</a> set as a property.</p>","constructors":[{"html_id":"new(keyword,children)-class-method","name":"new","abstract":false,"args":[{"name":"keyword","external_name":"keyword","restriction":""},{"name":"children","external_name":"children","restriction":""}],"args_string":"(keyword, children)","args_html":"(keyword, children)","location":{"filename":"src/validator.cr","line_number":487,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L487"},"def":{"name":"new","args":[{"name":"keyword","external_name":"keyword","restriction":""},{"name":"children","external_name":"children","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(keyword, children)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"children:Array(Validator)-instance-method","name":"children","abstract":false,"location":{"filename":"src/validator.cr","line_number":485,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L485"},"def":{"name":"children","return_type":"Array(Validator)","visibility":"Public","body":"@children"}},{"html_id":"children=(children:Array(Validator))-instance-method","name":"children=","abstract":false,"args":[{"name":"children","external_name":"children","restriction":"Array(Validator)"}],"args_string":"(children : Array(Validator))","args_html":"(children : Array(<a href=\"../JSONSchema/Validator.html\">Validator</a>))","location":{"filename":"src/validator.cr","line_number":485,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L485"},"def":{"name":"children=","args":[{"name":"children","external_name":"children","restriction":"Array(Validator)"}],"visibility":"Public","body":"@children = children"}},{"html_id":"keyword:String-instance-method","name":"keyword","abstract":false,"location":{"filename":"src/validator.cr","line_number":484,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L484"},"def":{"name":"keyword","return_type":"String","visibility":"Public","body":"@keyword"}},{"html_id":"keyword=(keyword:String)-instance-method","name":"keyword=","abstract":false,"args":[{"name":"keyword","external_name":"keyword","restriction":"String"}],"args_string":"(keyword : String)","args_html":"(keyword : String)","location":{"filename":"src/validator.cr","line_number":484,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L484"},"def":{"name":"keyword=","args":[{"name":"keyword","external_name":"keyword","restriction":"String"}],"visibility":"Public","body":"@keyword = keyword"}},{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":306,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L306"},"def":{"name":"to_cr","visibility":"Public","body":"create_instance({\"keyword\" => @keyword, \"children\" => \"[#{@children.join(\", \", &.to_cr)}]\"})"}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new)-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new)","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>)","location":{"filename":"src/validator.cr","line_number":490,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L490"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"visibility":"Public","body":"results = @children.map do |child|\n  child.validate(node)\nend\nresults_with_errors = results.select do |result|\n  result.status == (:error)\nend\ncase @keyword\nwhen \"allOf\"\n  if results_with_errors.size > 0\n    return ValidationResult.new(:error, [ValidationError.new(\"Expected value to match all schemas\", context)])\n  end\nwhen \"anyOf\"\n  if (results.size - results_with_errors.size) > 0\n  else\n    return ValidationResult.new(:error, [ValidationError.new(\"Expected value to match any of the schemas\", context)])\n  end\nwhen \"oneOf\"\n  if (results.size - results_with_errors.size) == 1\n  else\n    return ValidationResult.new(:error, [ValidationError.new(\"Expected value to match only one of the schemas\", context)])\n  end\nwhen \"not\"\n  if results.size == results_with_errors.size\n  else\n    return ValidationResult.new(:error, [ValidationError.new(\"Expected value not to match any of the schemas\", context)])\n  end\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/Format","path":"JSONSchema/Format.html","kind":"module","full_name":"JSONSchema::Format","name":"Format","abstract":false,"locations":[{"filename":"src/format.cr","line_number":14,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L14"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"extended_modules":[{"html_id":"json-schema-cr/JSONSchema/Format","kind":"module","full_name":"JSONSchema::Format","name":"Format"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Provides string format validations for any allowed `format` keyword.","summary":"<p>Provides string format validations for any allowed <code>format</code> keyword.</p>","instance_methods":[{"html_id":"is_date(value:String)-instance-method","name":"is_date","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":25,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L25"},"def":{"name":"is_date","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"!(date =~ value).nil?"}},{"html_id":"is_date_time(value:String)-instance-method","name":"is_date_time","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":17,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L17"},"def":{"name":"is_date_time","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"!(date_time =~ value).nil?"}},{"html_id":"is_duration(value:String)-instance-method","name":"is_duration","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":29,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L29"},"def":{"name":"is_duration","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"!(duration =~ value).nil?"}},{"html_id":"is_email(value:String)-instance-method","name":"is_email","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":33,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L33"},"def":{"name":"is_email","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"Valid.email?(value)"}},{"html_id":"is_hostname(value:String)-instance-method","name":"is_hostname","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":41,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L41"},"def":{"name":"is_hostname","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"!(hostname =~ value).nil?"}},{"html_id":"is_idn_email(value:String)-instance-method","name":"is_idn_email","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":37,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L37"},"def":{"name":"is_idn_email","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"raise(\"not implemented\")"}},{"html_id":"is_idn_hostname(value:String)-instance-method","name":"is_idn_hostname","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":45,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L45"},"def":{"name":"is_idn_hostname","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"raise(\"not implemented\")"}},{"html_id":"is_ipv4(value:String)-instance-method","name":"is_ipv4","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":49,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L49"},"def":{"name":"is_ipv4","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"Valid.ipv4?(value)"}},{"html_id":"is_ipv6(value:String)-instance-method","name":"is_ipv6","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":53,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L53"},"def":{"name":"is_ipv6","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"Valid.ipv6?(value)"}},{"html_id":"is_iri(value:String)-instance-method","name":"is_iri","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":70,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L70"},"def":{"name":"is_iri","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"raise(\"not implemented\")"}},{"html_id":"is_iri_reference(value:String)-instance-method","name":"is_iri_reference","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":74,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L74"},"def":{"name":"is_iri_reference","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"raise(\"not implemented\")"}},{"html_id":"is_json_pointer(value:String)-instance-method","name":"is_json_pointer","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":78,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L78"},"def":{"name":"is_json_pointer","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"!(json_pointer =~ value).nil?"}},{"html_id":"is_regex(value:String)-instance-method","name":"is_regex","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":86,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L86"},"def":{"name":"is_regex","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"begin\n  Regex.new(value).is_a?(Regex)\nrescue\n  false\nend"}},{"html_id":"is_relative_json_pointer(value:String)-instance-method","name":"is_relative_json_pointer","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":82,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L82"},"def":{"name":"is_relative_json_pointer","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"!(relative_json_pointer =~ value).nil?"}},{"html_id":"is_time(value:String)-instance-method","name":"is_time","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":21,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L21"},"def":{"name":"is_time","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"!(time =~ value).nil?"}},{"html_id":"is_uri(value:String)-instance-method","name":"is_uri","doc":"No URI validator at the moment; uses URL","summary":"<p>No URI validator at the moment; uses URL</p>","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":62,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L62"},"def":{"name":"is_uri","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"Valid.url?(value)"}},{"html_id":"is_uri_reference(value:String)-instance-method","name":"is_uri_reference","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":66,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L66"},"def":{"name":"is_uri_reference","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"raise(\"not implemented\")"}},{"html_id":"is_uuid(value:String)-instance-method","name":"is_uuid","abstract":false,"args":[{"name":"value","external_name":"value","restriction":"String"}],"args_string":"(value : String)","args_html":"(value : String)","location":{"filename":"src/format.cr","line_number":57,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/format.cr#L57"},"def":{"name":"is_uuid","args":[{"name":"value","external_name":"value","restriction":"String"}],"visibility":"Public","body":"Valid.uuid?(value)"}}]},{"html_id":"json-schema-cr/JSONSchema/GenericValidator","path":"JSONSchema/GenericValidator.html","kind":"class","full_name":"JSONSchema::GenericValidator","name":"GenericValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":63,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L63"},{"filename":"src/validator.cr","line_number":61,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L61"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema that has no type. Allows for constraints such as `enum`, `const` or\ncomposite schemas that do not require a `type` keyword (`enum` is also available on typed schemas).\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema that has no type.</p>","instance_methods":[{"html_id":"composites:Array(CompositeValidator)-instance-method","name":"composites","abstract":false,"location":{"filename":"src/validator.cr","line_number":64,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L64"},"def":{"name":"composites","return_type":"Array(CompositeValidator)","visibility":"Public","body":"@composites"}},{"html_id":"composites=(composites:Array(CompositeValidator))-instance-method","name":"composites=","abstract":false,"args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"args_string":"(composites : Array(CompositeValidator))","args_html":"(composites : Array(<a href=\"../JSONSchema/CompositeValidator.html\">CompositeValidator</a>))","location":{"filename":"src/validator.cr","line_number":64,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L64"},"def":{"name":"composites=","args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"visibility":"Public","body":"@composites = composites"}},{"html_id":"const:JSON::Any?-instance-method","name":"const","abstract":false,"location":{"filename":"src/validator.cr","line_number":63,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L63"},"def":{"name":"const","return_type":"JSON::Any | ::Nil","visibility":"Public","body":"@const"}},{"html_id":"const=(const:JSON::Any?)-instance-method","name":"const=","abstract":false,"args":[{"name":"const","external_name":"const","restriction":"JSON::Any | ::Nil"}],"args_string":"(const : JSON::Any?)","args_html":"(const : JSON::Any?)","location":{"filename":"src/validator.cr","line_number":63,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L63"},"def":{"name":"const=","args":[{"name":"const","external_name":"const","restriction":"JSON::Any | ::Nil"}],"visibility":"Public","body":"@const = const"}},{"html_id":"enum_list:Array(JSON::Any)-instance-method","name":"enum_list","abstract":false,"location":{"filename":"src/validator.cr","line_number":62,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L62"},"def":{"name":"enum_list","return_type":"Array(JSON::Any)","visibility":"Public","body":"@enum_list"}},{"html_id":"enum_list=(enum_list:Array(JSON::Any))-instance-method","name":"enum_list=","abstract":false,"args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"args_string":"(enum_list : Array(JSON::Any))","args_html":"(enum_list : Array(JSON::Any))","location":{"filename":"src/validator.cr","line_number":62,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L62"},"def":{"name":"enum_list=","args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"visibility":"Public","body":"@enum_list = enum_list"}},{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":66,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L66"},"def":{"name":"to_cr","visibility":"Public","body":"options = {} of String => String\nif @enum_list.size == 0\nelse\n  options[\"enum_list\"] = stringify_enum_list(@enum_list)\nend\nif @const.nil?\nelse\n  options[\"const\"] = stringify_json_any(@const.as(JSON::Any))\nend\nif @composites.size == 0\nelse\n  options[\"composites\"] = \"[#{@composites.join(\", \", &.to_cr)}]\"\nend\ncreate_instance(options)\n"}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new)-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new)","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>)","location":{"filename":"src/validator.cr","line_number":66,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L66"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"visibility":"Public","body":"errors = [] of ValidationError\nif @enum_list.size == 0\nelse\n  enum_result = JSONSchema.validate_enum(node, @enum_list, context)\n  if enum_result.nil?\n  else\n    errors.push(enum_result.as(ValidationError))\n  end\nend\nif @const.nil?\nelse\n  if node == @const\n  else\n    errors.push(ValidationError.new(\"Expected value to be #{@const}\", context))\n  end\nend\nvalidate_composites(@composites, node, errors)\nif errors.size > 0\n  return ValidationResult.new(:error, errors)\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/InvalidSchemaError","path":"JSONSchema/InvalidSchemaError.html","kind":"class","full_name":"JSONSchema::InvalidSchemaError","name":"InvalidSchemaError","abstract":false,"superclass":{"html_id":"json-schema-cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"json-schema-cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":6,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/error.cr#L6"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Exception thrown at compile-time for any invalid schema. A schema may be invalid if the file cannot be read,\nthe JSON string in the file is not valid JSON (cannot be parsed), or if the resulting JSON has invalid\ndefinitions for JSON Schema. Compile-time checks will throw this error if your schema cannot be turned into valid Crystal code,\nor to protect your application from runtime errors related to a schema that would not make logical sense.","summary":"<p>Exception thrown at compile-time for any invalid schema.</p>","constructors":[{"html_id":"new(message:String?,cause:Exception?,filename:String?)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","external_name":"cause","restriction":"Exception | ::Nil"},{"name":"filename","external_name":"filename","restriction":"String | ::Nil"}],"args_string":"(message : String?, cause : Exception?, filename : String?)","args_html":"(message : String?, cause : Exception?, filename : String?)","location":{"filename":"src/error.cr","line_number":7,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/error.cr#L7"},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":"String | ::Nil"},{"name":"cause","external_name":"cause","restriction":"Exception | ::Nil"},{"name":"filename","external_name":"filename","restriction":"String | ::Nil"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message, cause, filename)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"json-schema-cr/JSONSchema/InvalidSchemaJSONError","path":"JSONSchema/InvalidSchemaJSONError.html","kind":"class","full_name":"JSONSchema::InvalidSchemaJSONError","name":"InvalidSchemaJSONError","abstract":false,"superclass":{"html_id":"json-schema-cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"json-schema-cr/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/error.cr","line_number":19,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/error.cr#L19"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Exception thrown at runtime for any invalid schema. A runtime schema can be invalid\ngiven the JSON does not describe a valid JSON Schema.","summary":"<p>Exception thrown at runtime for any invalid schema.</p>"},{"html_id":"json-schema-cr/JSONSchema/NodeContext","path":"JSONSchema/NodeContext.html","kind":"class","full_name":"JSONSchema::NodeContext","name":"NodeContext","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/node_context.cr","line_number":3,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L3"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Tracks the location of a JSON value within a JSON schema.","summary":"<p>Tracks the location of a JSON value within a JSON schema.</p>","constructors":[{"html_id":"new(path=\".\",parent=nil)-class-method","name":"new","abstract":false,"args":[{"name":"path","default_value":"\".\"","external_name":"path","restriction":""},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""}],"args_string":"(path = \".\", parent = nil)","args_html":"(path = <span class=\"s\">&quot;.&quot;</span>, parent = <span class=\"n\">nil</span>)","location":{"filename":"src/node_context.cr","line_number":7,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L7"},"def":{"name":"new","args":[{"name":"path","default_value":"\".\"","external_name":"path","restriction":""},{"name":"parent","default_value":"nil","external_name":"parent","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(path, parent)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"dig_into(input:JSON::Any)-instance-method","name":"dig_into","doc":"Calls `JSON::Any#dig` on a given input to dig to the value represented by this NodeContext.","summary":"<p>Calls <code>JSON::Any#dig</code> on a given input to dig to the value represented by this NodeContext.</p>","abstract":false,"args":[{"name":"input","external_name":"input","restriction":"JSON::Any"}],"args_string":"(input : JSON::Any)","args_html":"(input : JSON::Any)","location":{"filename":"src/node_context.cr","line_number":31,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L31"},"def":{"name":"dig_into","args":[{"name":"input","external_name":"input","restriction":"JSON::Any"}],"visibility":"Public","body":"accessors = [] of String | Int32\nnode = self\nwhile !node.nil?\n  if node.path == \".\"\n    node = node.parent\n    next\n  end\n  case node.path\n  when .starts_with?('.')\n    accessors.push(node.path[1..])\n  when .starts_with?('[')\n    accessors.push((node.path.strip(\"[]\")).to_i)\n  else\n    accessors.push(node.path)\n  end\n  node = node.parent\nend\nif (accessors.size == 0)\n  raise(\"Cannot dig on root node context\")\nend\naccessors.reverse!\nvalue = input.dig(accessors[0])\naccessor_index = 1\nwhile (accessor_index < accessors.size)\n  value = value.dig(accessors[accessor_index])\n  accessor_index = accessor_index + 1\nend\nvalue\n"}},{"html_id":"from_property(prop:String)-instance-method","name":"from_property","doc":"Create a child NodeContext based on `self`, taking into account whether `self` is the root node.","summary":"<p>Create a child NodeContext based on <code>self</code>, taking into account whether <code>self</code> is the root node.</p>","abstract":false,"args":[{"name":"prop","external_name":"prop","restriction":"String"}],"args_string":"(prop : String)","args_html":"(prop : String)","location":{"filename":"src/node_context.cr","line_number":71,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L71"},"def":{"name":"from_property","args":[{"name":"prop","external_name":"prop","restriction":"String"}],"visibility":"Public","body":"if self.path == \".\"\n  NodeContext.new(prop, self)\nelse\n  NodeContext.new(\".#{prop}\", self)\nend"}},{"html_id":"parent:NodeContext?-instance-method","name":"parent","abstract":false,"location":{"filename":"src/node_context.cr","line_number":4,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L4"},"def":{"name":"parent","return_type":"NodeContext | ::Nil","visibility":"Public","body":"@parent"}},{"html_id":"parent=(parent:NodeContext?)-instance-method","name":"parent=","abstract":false,"args":[{"name":"parent","external_name":"parent","restriction":"NodeContext | ::Nil"}],"args_string":"(parent : NodeContext?)","args_html":"(parent : <a href=\"../JSONSchema/NodeContext.html\">NodeContext</a>?)","location":{"filename":"src/node_context.cr","line_number":4,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L4"},"def":{"name":"parent=","args":[{"name":"parent","external_name":"parent","restriction":"NodeContext | ::Nil"}],"visibility":"Public","body":"@parent = parent"}},{"html_id":"path:String-instance-method","name":"path","abstract":false,"location":{"filename":"src/node_context.cr","line_number":5,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L5"},"def":{"name":"path","return_type":"String","visibility":"Public","body":"@path"}},{"html_id":"path=(path:String)-instance-method","name":"path=","abstract":false,"args":[{"name":"path","external_name":"path","restriction":"String"}],"args_string":"(path : String)","args_html":"(path : String)","location":{"filename":"src/node_context.cr","line_number":5,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L5"},"def":{"name":"path=","args":[{"name":"path","external_name":"path","restriction":"String"}],"visibility":"Public","body":"@path = path"}},{"html_id":"to_s-instance-method","name":"to_s","doc":"Get a string representation of the node's full path. The format is dot and square bracket notation,\nsimilar to the format expected by `jq`, a popular [JSON querying CLI](https://stedolan.github.io/jq/).\n\nExample: `.parent.children[0].example`\n\nThe top-level `.` will always refer to the root node.","summary":"<p>Get a string representation of the node's full path.</p>","abstract":false,"location":{"filename":"src/node_context.cr","line_number":16,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/node_context.cr#L16"},"def":{"name":"to_s","visibility":"Public","body":"string_parts = [] of String\nnode = self\nwhile !node.nil?\n  string_parts.push(node.path)\n  node = node.parent\nend\nString.build do |str|\n  string_parts.reverse_each do |string_part|\n    str << string_part\n  end\nend\n"}}]},{"html_id":"json-schema-cr/JSONSchema/NullValidator","path":"JSONSchema/NullValidator.html","kind":"class","full_name":"JSONSchema::NullValidator","name":"NullValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":291,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L291"},{"filename":"src/validator.cr","line_number":460,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L460"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema where the `type` is `null`.\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema where the <code>type</code> is <code>null</code>.</p>","instance_methods":[{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":292,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L292"},"def":{"name":"to_cr","visibility":"Public","body":"\"JSONSchema::NullValidator.new\""}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new)-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new)","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>)","location":{"filename":"src/validator.cr","line_number":461,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L461"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"visibility":"Public","body":"begin\n  node.as_nil\nrescue\n  return ValidationResult.new(:error, [ValidationError.new(\"Expected value to be null\", context)])\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/NumberValidator","path":"JSONSchema/NumberValidator.html","kind":"class","full_name":"JSONSchema::NumberValidator","name":"NumberValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":249,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L249"},{"filename":"src/validator.cr","line_number":390,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L390"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema where the `type` is `number` or `integer`.\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema where the <code>type</code> is <code>number</code> or <code>integer</code>.</p>","instance_methods":[{"html_id":"composites:Array(CompositeValidator)-instance-method","name":"composites","abstract":false,"location":{"filename":"src/validator.cr","line_number":398,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L398"},"def":{"name":"composites","return_type":"Array(CompositeValidator)","visibility":"Public","body":"@composites"}},{"html_id":"composites=(composites:Array(CompositeValidator))-instance-method","name":"composites=","abstract":false,"args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"args_string":"(composites : Array(CompositeValidator))","args_html":"(composites : Array(<a href=\"../JSONSchema/CompositeValidator.html\">CompositeValidator</a>))","location":{"filename":"src/validator.cr","line_number":398,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L398"},"def":{"name":"composites=","args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"visibility":"Public","body":"@composites = composites"}},{"html_id":"enum_list:Array(JSON::Any)-instance-method","name":"enum_list","abstract":false,"location":{"filename":"src/validator.cr","line_number":397,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L397"},"def":{"name":"enum_list","return_type":"Array(JSON::Any)","visibility":"Public","body":"@enum_list"}},{"html_id":"enum_list=(enum_list:Array(JSON::Any))-instance-method","name":"enum_list=","abstract":false,"args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"args_string":"(enum_list : Array(JSON::Any))","args_html":"(enum_list : Array(JSON::Any))","location":{"filename":"src/validator.cr","line_number":397,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L397"},"def":{"name":"enum_list=","args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"visibility":"Public","body":"@enum_list = enum_list"}},{"html_id":"exclusive_maximum:Int32?-instance-method","name":"exclusive_maximum","abstract":false,"location":{"filename":"src/validator.cr","line_number":396,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L396"},"def":{"name":"exclusive_maximum","return_type":"Int32 | ::Nil","visibility":"Public","body":"@exclusive_maximum"}},{"html_id":"exclusive_maximum=(exclusive_maximum:Int32?)-instance-method","name":"exclusive_maximum=","abstract":false,"args":[{"name":"exclusive_maximum","external_name":"exclusive_maximum","restriction":"Int32 | ::Nil"}],"args_string":"(exclusive_maximum : Int32?)","args_html":"(exclusive_maximum : Int32?)","location":{"filename":"src/validator.cr","line_number":396,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L396"},"def":{"name":"exclusive_maximum=","args":[{"name":"exclusive_maximum","external_name":"exclusive_maximum","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@exclusive_maximum = exclusive_maximum"}},{"html_id":"exclusive_minimum:Int32?-instance-method","name":"exclusive_minimum","abstract":false,"location":{"filename":"src/validator.cr","line_number":395,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L395"},"def":{"name":"exclusive_minimum","return_type":"Int32 | ::Nil","visibility":"Public","body":"@exclusive_minimum"}},{"html_id":"exclusive_minimum=(exclusive_minimum:Int32?)-instance-method","name":"exclusive_minimum=","abstract":false,"args":[{"name":"exclusive_minimum","external_name":"exclusive_minimum","restriction":"Int32 | ::Nil"}],"args_string":"(exclusive_minimum : Int32?)","args_html":"(exclusive_minimum : Int32?)","location":{"filename":"src/validator.cr","line_number":395,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L395"},"def":{"name":"exclusive_minimum=","args":[{"name":"exclusive_minimum","external_name":"exclusive_minimum","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@exclusive_minimum = exclusive_minimum"}},{"html_id":"has_integer_constraint:Bool-instance-method","name":"has_integer_constraint","abstract":false,"location":{"filename":"src/validator.cr","line_number":391,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L391"},"def":{"name":"has_integer_constraint","visibility":"Public","body":"@has_integer_constraint"}},{"html_id":"has_integer_constraint=(has_integer_constraint)-instance-method","name":"has_integer_constraint=","abstract":false,"args":[{"name":"has_integer_constraint","external_name":"has_integer_constraint","restriction":""}],"args_string":"(has_integer_constraint)","args_html":"(has_integer_constraint)","location":{"filename":"src/validator.cr","line_number":391,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L391"},"def":{"name":"has_integer_constraint=","args":[{"name":"has_integer_constraint","external_name":"has_integer_constraint","restriction":""}],"visibility":"Public","body":"@has_integer_constraint = has_integer_constraint"}},{"html_id":"maximum:Int32?-instance-method","name":"maximum","abstract":false,"location":{"filename":"src/validator.cr","line_number":394,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L394"},"def":{"name":"maximum","return_type":"Int32 | ::Nil","visibility":"Public","body":"@maximum"}},{"html_id":"maximum=(maximum:Int32?)-instance-method","name":"maximum=","abstract":false,"args":[{"name":"maximum","external_name":"maximum","restriction":"Int32 | ::Nil"}],"args_string":"(maximum : Int32?)","args_html":"(maximum : Int32?)","location":{"filename":"src/validator.cr","line_number":394,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L394"},"def":{"name":"maximum=","args":[{"name":"maximum","external_name":"maximum","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@maximum = maximum"}},{"html_id":"minimum:Int32?-instance-method","name":"minimum","abstract":false,"location":{"filename":"src/validator.cr","line_number":393,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L393"},"def":{"name":"minimum","return_type":"Int32 | ::Nil","visibility":"Public","body":"@minimum"}},{"html_id":"minimum=(minimum:Int32?)-instance-method","name":"minimum=","abstract":false,"args":[{"name":"minimum","external_name":"minimum","restriction":"Int32 | ::Nil"}],"args_string":"(minimum : Int32?)","args_html":"(minimum : Int32?)","location":{"filename":"src/validator.cr","line_number":393,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L393"},"def":{"name":"minimum=","args":[{"name":"minimum","external_name":"minimum","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@minimum = minimum"}},{"html_id":"multiple_of:Int32?-instance-method","name":"multiple_of","abstract":false,"location":{"filename":"src/validator.cr","line_number":392,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L392"},"def":{"name":"multiple_of","return_type":"Int32 | ::Nil","visibility":"Public","body":"@multiple_of"}},{"html_id":"multiple_of=(multiple_of:Int32?)-instance-method","name":"multiple_of=","abstract":false,"args":[{"name":"multiple_of","external_name":"multiple_of","restriction":"Int32 | ::Nil"}],"args_string":"(multiple_of : Int32?)","args_html":"(multiple_of : Int32?)","location":{"filename":"src/validator.cr","line_number":392,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L392"},"def":{"name":"multiple_of=","args":[{"name":"multiple_of","external_name":"multiple_of","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@multiple_of = multiple_of"}},{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":252,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L252"},"def":{"name":"to_cr","visibility":"Public","body":"options = {} of String => String\nif @has_integer_constraint\n  options[\"has_integer_constraint\"] = \"true\"\nend\nif @multiple_of.nil?\nelse\n  options[\"multiple_of\"] = @multiple_of.to_s\nend\nif @minimum.nil?\nelse\n  options[\"minimum\"] = @minimum.to_s\nend\nif @maximum.nil?\nelse\n  options[\"maximum\"] = @maximum.to_s\nend\nif @exclusive_minimum.nil?\nelse\n  options[\"exclusive_minimum\"] = @exclusive_minimum.to_s\nend\nif @exclusive_maximum.nil?\nelse\n  options[\"exclusive_maximum\"] = @exclusive_maximum.to_s\nend\nif @enum_list.size == 0\nelse\n  options[\"enum_list\"] = stringify_enum_list(@enum_list)\nend\nif @composites.size == 0\nelse\n  options[\"composites\"] = \"[#{@composites.join(\", \", &.to_cr)}]\"\nend\ncreate_instance(options)\n"}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new)-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new)","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>)","location":{"filename":"src/validator.cr","line_number":400,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L400"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"visibility":"Public","body":"value = begin\n  begin\n    node.as_f\n  rescue\n    node.as_i\n  end\nrescue\n  return ValidationResult.new(:error, [ValidationError.new(\"Expected value to be a number\", context)])\nend\nerrors = [] of ValidationError\nif @has_integer_constraint && ((value % 1) != 0)\n  errors.push(ValidationError.new(\"Expected numeric value to be an integer\", context))\nend\nif @minimum.nil?\nelse\n  if (@minimum.as(Int32)) <= value\n  else\n    errors.push(ValidationError.new(\"Expected numeric value be greater than or equal to #{@minimum}\", context))\n  end\nend\nif @maximum.nil?\nelse\n  if value <= (@maximum.as(Int32))\n  else\n    errors.push(ValidationError.new(\"Expected numeric value be less than or equal to #{@maximum}\", context))\n  end\nend\nif @exclusive_minimum.nil?\nelse\n  if (@exclusive_minimum.as(Int32)) < value\n  else\n    errors.push(ValidationError.new(\"Expected numeric value be greater than #{@exclusive_minimum}\", context))\n  end\nend\nif @exclusive_maximum.nil?\nelse\n  if value < (@exclusive_maximum.as(Int32))\n  else\n    errors.push(ValidationError.new(\"Expected numeric value be less than #{@exclusive_maximum}\", context))\n  end\nend\nif @multiple_of.nil?\nelse\n  if (value % (multiple_of.as(Int32))) == 0\n  else\n    errors.push(ValidationError.new(\"Expected numeric value to be multiple of #{@multiple_of}\", context))\n  end\nend\nif @enum_list.size == 0\nelse\n  enum_result = JSONSchema.validate_enum(node, @enum_list, context)\n  if enum_result.nil?\n  else\n    errors.push(enum_result.as(ValidationError))\n  end\nend\nvalidate_composites(@composites, node, errors)\nif errors.size > 0\n  return ValidationResult.new(:error, errors)\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/ObjectValidator","path":"JSONSchema/ObjectValidator.html","kind":"class","full_name":"JSONSchema::ObjectValidator","name":"ObjectValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":85,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L85"},{"filename":"src/validator.cr","line_number":97,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L97"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema where the `type` is `object`.\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema where the <code>type</code> is <code>object</code>.</p>","instance_methods":[{"html_id":"additional_properties:Validator?-instance-method","name":"additional_properties","abstract":false,"location":{"filename":"src/validator.cr","line_number":101,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L101"},"def":{"name":"additional_properties","return_type":"Validator | ::Nil","visibility":"Public","body":"@additional_properties"}},{"html_id":"additional_properties=(additional_properties:Validator?)-instance-method","name":"additional_properties=","abstract":false,"args":[{"name":"additional_properties","external_name":"additional_properties","restriction":"Validator | ::Nil"}],"args_string":"(additional_properties : Validator?)","args_html":"(additional_properties : <a href=\"../JSONSchema/Validator.html\">Validator</a>?)","location":{"filename":"src/validator.cr","line_number":101,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L101"},"def":{"name":"additional_properties=","args":[{"name":"additional_properties","external_name":"additional_properties","restriction":"Validator | ::Nil"}],"visibility":"Public","body":"@additional_properties = additional_properties"}},{"html_id":"composites:Array(CompositeValidator)-instance-method","name":"composites","abstract":false,"location":{"filename":"src/validator.cr","line_number":108,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L108"},"def":{"name":"composites","return_type":"Array(CompositeValidator)","visibility":"Public","body":"@composites"}},{"html_id":"composites=(composites:Array(CompositeValidator))-instance-method","name":"composites=","abstract":false,"args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"args_string":"(composites : Array(CompositeValidator))","args_html":"(composites : Array(<a href=\"../JSONSchema/CompositeValidator.html\">CompositeValidator</a>))","location":{"filename":"src/validator.cr","line_number":108,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L108"},"def":{"name":"composites=","args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"visibility":"Public","body":"@composites = composites"}},{"html_id":"dependent_required:Hash(String,Array(String))-instance-method","name":"dependent_required","abstract":false,"location":{"filename":"src/validator.cr","line_number":103,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L103"},"def":{"name":"dependent_required","return_type":"Hash(String, Array(String))","visibility":"Public","body":"@dependent_required"}},{"html_id":"dependent_required=(dependent_required:Hash(String,Array(String)))-instance-method","name":"dependent_required=","abstract":false,"args":[{"name":"dependent_required","external_name":"dependent_required","restriction":"Hash(String, Array(String))"}],"args_string":"(dependent_required : Hash(String, Array(String)))","args_html":"(dependent_required : Hash(String, Array(String)))","location":{"filename":"src/validator.cr","line_number":103,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L103"},"def":{"name":"dependent_required=","args":[{"name":"dependent_required","external_name":"dependent_required","restriction":"Hash(String, Array(String))"}],"visibility":"Public","body":"@dependent_required = dependent_required"}},{"html_id":"enum_list:Array(JSON::Any)-instance-method","name":"enum_list","abstract":false,"location":{"filename":"src/validator.cr","line_number":107,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L107"},"def":{"name":"enum_list","return_type":"Array(JSON::Any)","visibility":"Public","body":"@enum_list"}},{"html_id":"enum_list=(enum_list:Array(JSON::Any))-instance-method","name":"enum_list=","abstract":false,"args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"args_string":"(enum_list : Array(JSON::Any))","args_html":"(enum_list : Array(JSON::Any))","location":{"filename":"src/validator.cr","line_number":107,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L107"},"def":{"name":"enum_list=","args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"visibility":"Public","body":"@enum_list = enum_list"}},{"html_id":"has_disabled_additional_properties:Bool-instance-method","name":"has_disabled_additional_properties","abstract":false,"location":{"filename":"src/validator.cr","line_number":100,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L100"},"def":{"name":"has_disabled_additional_properties","visibility":"Public","body":"@has_disabled_additional_properties"}},{"html_id":"has_disabled_additional_properties=(has_disabled_additional_properties)-instance-method","name":"has_disabled_additional_properties=","abstract":false,"args":[{"name":"has_disabled_additional_properties","external_name":"has_disabled_additional_properties","restriction":""}],"args_string":"(has_disabled_additional_properties)","args_html":"(has_disabled_additional_properties)","location":{"filename":"src/validator.cr","line_number":100,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L100"},"def":{"name":"has_disabled_additional_properties=","args":[{"name":"has_disabled_additional_properties","external_name":"has_disabled_additional_properties","restriction":""}],"visibility":"Public","body":"@has_disabled_additional_properties = has_disabled_additional_properties"}},{"html_id":"max_properties:Int32?-instance-method","name":"max_properties","abstract":false,"location":{"filename":"src/validator.cr","line_number":106,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L106"},"def":{"name":"max_properties","return_type":"Int32 | ::Nil","visibility":"Public","body":"@max_properties"}},{"html_id":"max_properties=(max_properties:Int32?)-instance-method","name":"max_properties=","abstract":false,"args":[{"name":"max_properties","external_name":"max_properties","restriction":"Int32 | ::Nil"}],"args_string":"(max_properties : Int32?)","args_html":"(max_properties : Int32?)","location":{"filename":"src/validator.cr","line_number":106,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L106"},"def":{"name":"max_properties=","args":[{"name":"max_properties","external_name":"max_properties","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@max_properties = max_properties"}},{"html_id":"min_properties:Int32?-instance-method","name":"min_properties","abstract":false,"location":{"filename":"src/validator.cr","line_number":105,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L105"},"def":{"name":"min_properties","return_type":"Int32 | ::Nil","visibility":"Public","body":"@min_properties"}},{"html_id":"min_properties=(min_properties:Int32?)-instance-method","name":"min_properties=","abstract":false,"args":[{"name":"min_properties","external_name":"min_properties","restriction":"Int32 | ::Nil"}],"args_string":"(min_properties : Int32?)","args_html":"(min_properties : Int32?)","location":{"filename":"src/validator.cr","line_number":105,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L105"},"def":{"name":"min_properties=","args":[{"name":"min_properties","external_name":"min_properties","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@min_properties = min_properties"}},{"html_id":"pattern_properties:Hash(Regex,Validator)-instance-method","name":"pattern_properties","abstract":false,"location":{"filename":"src/validator.cr","line_number":99,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L99"},"def":{"name":"pattern_properties","return_type":"Hash(Regex, Validator)","visibility":"Public","body":"@pattern_properties"}},{"html_id":"pattern_properties=(pattern_properties:Hash(Regex,Validator))-instance-method","name":"pattern_properties=","abstract":false,"args":[{"name":"pattern_properties","external_name":"pattern_properties","restriction":"Hash(Regex, Validator)"}],"args_string":"(pattern_properties : Hash(Regex, Validator))","args_html":"(pattern_properties : Hash(Regex, <a href=\"../JSONSchema/Validator.html\">Validator</a>))","location":{"filename":"src/validator.cr","line_number":99,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L99"},"def":{"name":"pattern_properties=","args":[{"name":"pattern_properties","external_name":"pattern_properties","restriction":"Hash(Regex, Validator)"}],"visibility":"Public","body":"@pattern_properties = pattern_properties"}},{"html_id":"properties:Hash(String,Validator)-instance-method","name":"properties","abstract":false,"location":{"filename":"src/validator.cr","line_number":98,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L98"},"def":{"name":"properties","return_type":"Hash(String, Validator)","visibility":"Public","body":"@properties"}},{"html_id":"properties=(properties:Hash(String,Validator))-instance-method","name":"properties=","abstract":false,"args":[{"name":"properties","external_name":"properties","restriction":"Hash(String, Validator)"}],"args_string":"(properties : Hash(String, Validator))","args_html":"(properties : Hash(String, <a href=\"../JSONSchema/Validator.html\">Validator</a>))","location":{"filename":"src/validator.cr","line_number":98,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L98"},"def":{"name":"properties=","args":[{"name":"properties","external_name":"properties","restriction":"Hash(String, Validator)"}],"visibility":"Public","body":"@properties = properties"}},{"html_id":"property_names:StringValidator?-instance-method","name":"property_names","abstract":false,"location":{"filename":"src/validator.cr","line_number":104,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L104"},"def":{"name":"property_names","return_type":"StringValidator | ::Nil","visibility":"Public","body":"@property_names"}},{"html_id":"property_names=(property_names:StringValidator?)-instance-method","name":"property_names=","abstract":false,"args":[{"name":"property_names","external_name":"property_names","restriction":"StringValidator | ::Nil"}],"args_string":"(property_names : StringValidator?)","args_html":"(property_names : <a href=\"../JSONSchema/StringValidator.html\">StringValidator</a>?)","location":{"filename":"src/validator.cr","line_number":104,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L104"},"def":{"name":"property_names=","args":[{"name":"property_names","external_name":"property_names","restriction":"StringValidator | ::Nil"}],"visibility":"Public","body":"@property_names = property_names"}},{"html_id":"required:Array(String)?-instance-method","name":"required","abstract":false,"location":{"filename":"src/validator.cr","line_number":102,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L102"},"def":{"name":"required","return_type":"Array(String) | ::Nil","visibility":"Public","body":"@required"}},{"html_id":"required=(required:Array(String)?)-instance-method","name":"required=","abstract":false,"args":[{"name":"required","external_name":"required","restriction":"Array(String) | ::Nil"}],"args_string":"(required : Array(String)?)","args_html":"(required : Array(String)?)","location":{"filename":"src/validator.cr","line_number":102,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L102"},"def":{"name":"required=","args":[{"name":"required","external_name":"required","restriction":"Array(String) | ::Nil"}],"visibility":"Public","body":"@required = required"}},{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":88,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L88"},"def":{"name":"to_cr","visibility":"Public","body":"options = {} of String => String\nif @has_disabled_additional_properties\n  options[\"has_disabled_additional_properties\"] = \"true\"\nend\nif @required.nil?\nelse\n  options[\"required\"] = @required.to_s\nend\nif @property_names.nil?\nelse\n  options[\"property_names\"] = (@property_names.as(StringValidator)).to_cr\nend\nif @min_properties.nil?\nelse\n  options[\"min_properties\"] = @min_properties.to_s\nend\nif @max_properties.nil?\nelse\n  options[\"max_properties\"] = @max_properties.to_s\nend\nif @additional_properties.nil?\nelse\n  options[\"additional_properties\"] = (@additional_properties.as(Validator)).to_cr\nend\nif @dependent_required.size == 0\nelse\n  options[\"dependent_required\"] = @dependent_required.to_s\nend\nif @properties.size == 0\nelse\n  options[\"properties\"] = String.build do |str|\n    str << \"{\\n\"\n    i = 0\n    @properties.each do |prop, validator|\n      str << \"\\\"#{prop}\\\" => #{validator.to_cr}\"\n      if i >= @properties.size\n      else\n        str << \",\\n\"\n      end\n      i = i + 1\n    end\n    str << \"} of String => JSONSchema::Validator\"\n  end\nend\nif @pattern_properties.size == 0\nelse\n  options[\"pattern_properties\"] = String.build do |str|\n    str << \"{\\n\"\n    i = 0\n    @pattern_properties.each do |pattern, validator|\n      str << \"/#{pattern.source}/ => #{validator.to_cr}\"\n      if i >= @pattern_properties.size\n      else\n        str << \",\\n\"\n      end\n      i = i + 1\n    end\n    str << \"} of Regex => JSONSchema::Validator\"\n  end\nend\nif @composites.size == 0\nelse\n  options[\"composites\"] = \"[#{@composites.join(\", \", &.to_cr)}]\"\nend\nif @enum_list.size == 0\nelse\n  options[\"enum_list\"] = stringify_enum_list(@enum_list)\nend\ncreate_instance(options)\n"}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new(\".\"))-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new(\".\")","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new(\".\"))","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>(<span class=\"s\">&quot;.&quot;</span>))","location":{"filename":"src/validator.cr","line_number":110,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L110"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new(\".\")","external_name":"context","restriction":""}],"visibility":"Public","body":"value = begin\n  node.as_h\nrescue\n  return ValidationResult.new(:error, [ValidationError.new(\"Expected value to be an object\", context)])\nend\nerrors = [] of ValidationError\nif @required.nil?\nelse\n  (@required.as(Array(String))).each do |required_prop|\n    if value.has_key?(required_prop)\n    else\n      errors.push(ValidationError.new(\"Expected required property \\\"#{required_prop}\\\" to be set\", context))\n    end\n  end\nend\nif @dependent_required.size == 0\nelse\n  @dependent_required.each do |dependent_prop, required_props|\n    required_props.each do |required_prop|\n      if value.has_key?(required_prop)\n      else\n        errors.push(ValidationError.new(\"Expected required property \\\"#{required_prop}\\\" to be set when \\\"#{dependent_prop}\\\" is set\", context))\n      end\n    end\n  end\nend\nif @property_names.nil?\nelse\n  value.keys.each do |property_name|\n    result = (@property_names.as(StringValidator)).validate(JSON::Any.new(property_name), context.from_property(property_name))\n    if result.status == (:error)\n      errors.concat(result.errors)\n    end\n  end\nend\nif @min_properties.nil?\nelse\n  if value.keys.size >= (@min_properties.as(Int32))\n  else\n    errors.push(ValidationError.new(\"Expected object to have at least #{@min_properties} properties\", context))\n  end\nend\nif @max_properties.nil?\nelse\n  if value.keys.size > (@max_properties.as(Int32))\n    errors.push(ValidationError.new(\"Expected object to have at most #{@max_properties} properties\", context))\n  end\nend\n@properties.each do |property_name, property_validator|\n  property_value = value[property_name]?\n  if property_value.nil?\n  else\n    result = property_validator.validate(property_value, context.from_property(property_name))\n    if result.status == (:error)\n      errors.concat(result.errors)\n    end\n  end\nend\n@pattern_properties.each do |pattern, pattern_validator|\n  value.each do |k, v|\n    if pattern =~ k\n      result = pattern_validator.validate(v, context.from_property(k))\n      if result.status == (:error)\n        errors.concat(result.errors)\n      end\n    end\n  end\nend\nadditional_keys = value.keys.select do |key|\n  !(@properties.has_key?(key))\nend\nif @has_disabled_additional_properties\n  if additional_keys.size > 0\n    errors.push(ValidationError.new(\"Expected object not to have additional properties\", context))\n  end\nelse\n  if @additional_properties.nil?\n  else\n    additional_keys.each do |additional_key|\n      result = (@additional_properties.as(Validator)).validate(value[additional_key], context.from_property(additional_key))\n      if result.status == (:error)\n        errors.concat(result.errors)\n      end\n    end\n  end\nend\nif @enum_list.size == 0\nelse\n  enum_result = JSONSchema.validate_enum(node, @enum_list, context)\n  if enum_result.nil?\n  else\n    errors.push(enum_result.as(ValidationError))\n  end\nend\nvalidate_composites(@composites, node, errors)\nif errors.size > 0\n  return ValidationResult.new(:error, errors)\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/StringValidator","path":"JSONSchema/StringValidator.html","kind":"class","full_name":"JSONSchema::StringValidator","name":"StringValidator","abstract":false,"superclass":{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"},{"html_id":"json-schema-cr/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/render.cr","line_number":215,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L215"},{"filename":"src/validator.cr","line_number":326,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L326"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"included_modules":[{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Validates schema where the `type` is `string`.\n\nThis is a raw `Validator` class that you most likely do not need to use directly.\nSee the `JSONSchema#create_validator` macro for common usage of this shard.","summary":"<p>Validates schema where the <code>type</code> is <code>string</code>.</p>","instance_methods":[{"html_id":"composites:Array(CompositeValidator)-instance-method","name":"composites","abstract":false,"location":{"filename":"src/validator.cr","line_number":332,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L332"},"def":{"name":"composites","return_type":"Array(CompositeValidator)","visibility":"Public","body":"@composites"}},{"html_id":"composites=(composites:Array(CompositeValidator))-instance-method","name":"composites=","abstract":false,"args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"args_string":"(composites : Array(CompositeValidator))","args_html":"(composites : Array(<a href=\"../JSONSchema/CompositeValidator.html\">CompositeValidator</a>))","location":{"filename":"src/validator.cr","line_number":332,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L332"},"def":{"name":"composites=","args":[{"name":"composites","external_name":"composites","restriction":"Array(CompositeValidator)"}],"visibility":"Public","body":"@composites = composites"}},{"html_id":"enum_list:Array(JSON::Any)-instance-method","name":"enum_list","abstract":false,"location":{"filename":"src/validator.cr","line_number":331,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L331"},"def":{"name":"enum_list","return_type":"Array(JSON::Any)","visibility":"Public","body":"@enum_list"}},{"html_id":"enum_list=(enum_list:Array(JSON::Any))-instance-method","name":"enum_list=","abstract":false,"args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"args_string":"(enum_list : Array(JSON::Any))","args_html":"(enum_list : Array(JSON::Any))","location":{"filename":"src/validator.cr","line_number":331,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L331"},"def":{"name":"enum_list=","args":[{"name":"enum_list","external_name":"enum_list","restriction":"Array(JSON::Any)"}],"visibility":"Public","body":"@enum_list = enum_list"}},{"html_id":"format:String?-instance-method","name":"format","abstract":false,"location":{"filename":"src/validator.cr","line_number":330,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L330"},"def":{"name":"format","return_type":"String | ::Nil","visibility":"Public","body":"@format"}},{"html_id":"format=(format:String?)-instance-method","name":"format=","abstract":false,"args":[{"name":"format","external_name":"format","restriction":"String | ::Nil"}],"args_string":"(format : String?)","args_html":"(format : String?)","location":{"filename":"src/validator.cr","line_number":330,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L330"},"def":{"name":"format=","args":[{"name":"format","external_name":"format","restriction":"String | ::Nil"}],"visibility":"Public","body":"@format = format"}},{"html_id":"max_length:Int32?-instance-method","name":"max_length","abstract":false,"location":{"filename":"src/validator.cr","line_number":328,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L328"},"def":{"name":"max_length","return_type":"Int32 | ::Nil","visibility":"Public","body":"@max_length"}},{"html_id":"max_length=(max_length:Int32?)-instance-method","name":"max_length=","abstract":false,"args":[{"name":"max_length","external_name":"max_length","restriction":"Int32 | ::Nil"}],"args_string":"(max_length : Int32?)","args_html":"(max_length : Int32?)","location":{"filename":"src/validator.cr","line_number":328,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L328"},"def":{"name":"max_length=","args":[{"name":"max_length","external_name":"max_length","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@max_length = max_length"}},{"html_id":"min_length:Int32?-instance-method","name":"min_length","abstract":false,"location":{"filename":"src/validator.cr","line_number":327,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L327"},"def":{"name":"min_length","return_type":"Int32 | ::Nil","visibility":"Public","body":"@min_length"}},{"html_id":"min_length=(min_length:Int32?)-instance-method","name":"min_length=","abstract":false,"args":[{"name":"min_length","external_name":"min_length","restriction":"Int32 | ::Nil"}],"args_string":"(min_length : Int32?)","args_html":"(min_length : Int32?)","location":{"filename":"src/validator.cr","line_number":327,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L327"},"def":{"name":"min_length=","args":[{"name":"min_length","external_name":"min_length","restriction":"Int32 | ::Nil"}],"visibility":"Public","body":"@min_length = min_length"}},{"html_id":"pattern:Regex?-instance-method","name":"pattern","abstract":false,"location":{"filename":"src/validator.cr","line_number":329,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L329"},"def":{"name":"pattern","return_type":"Regex | ::Nil","visibility":"Public","body":"@pattern"}},{"html_id":"pattern=(pattern:Regex?)-instance-method","name":"pattern=","abstract":false,"args":[{"name":"pattern","external_name":"pattern","restriction":"Regex | ::Nil"}],"args_string":"(pattern : Regex?)","args_html":"(pattern : Regex?)","location":{"filename":"src/validator.cr","line_number":329,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L329"},"def":{"name":"pattern=","args":[{"name":"pattern","external_name":"pattern","restriction":"Regex | ::Nil"}],"visibility":"Public","body":"@pattern = pattern"}},{"html_id":"to_cr-instance-method","name":"to_cr","abstract":false,"location":{"filename":"src/render.cr","line_number":218,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L218"},"def":{"name":"to_cr","visibility":"Public","body":"options = {} of String => String\nif @min_length.nil?\nelse\n  options[\"min_length\"] = @min_length.to_s\nend\nif @max_length.nil?\nelse\n  options[\"max_length\"] = @max_length.to_s\nend\nif @pattern.nil?\nelse\n  options[\"pattern\"] = \"/#{(@pattern.as(Regex)).source}/\"\nend\nif @format.nil?\nelse\n  options[\"format\"] = @format.to_s\nend\nif @enum_list.size == 0\nelse\n  options[\"enum_list\"] = stringify_enum_list(@enum_list)\nend\nif @composites.size == 0\nelse\n  options[\"composites\"] = \"[#{@composites.join(\", \", &.to_cr)}]\"\nend\ncreate_instance(options)\n"}},{"html_id":"validate(node:JSON::Any,context=NodeContext.new)-instance-method","name":"validate","abstract":false,"args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"args_string":"(node : JSON::Any, context = NodeContext.new)","args_html":"(node : JSON::Any, context = <span class=\"t\">NodeContext</span>.<span class=\"k\">new</span>)","location":{"filename":"src/validator.cr","line_number":334,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L334"},"def":{"name":"validate","args":[{"name":"node","external_name":"node","restriction":"JSON::Any"},{"name":"context","default_value":"NodeContext.new","external_name":"context","restriction":""}],"visibility":"Public","body":"value = begin\n  node.as_s\nrescue\n  return ValidationResult.new(:error, [ValidationError.new(\"Expected value to be a string\", context)])\nend\nerrors = [] of ValidationError\nif @min_length.nil?\nelse\n  if (@min_length.as(Int32)) > value.size\n    errors.push(ValidationError.new(\"Expected string to have a minimum length of #{@min_length}\", context))\n  end\nend\nif @max_length.nil?\nelse\n  if value.size > (@max_length.as(Int32))\n    errors.push(ValidationError.new(\"Expected string to have a maximum length of #{@max_length}\", context))\n  end\nend\nif @pattern.nil?\nelse\n  if (  @pattern =~ value).nil?\n    errors.push(ValidationError.new(\"Expected string to match pattern /#{(@pattern.as(Regex)).source}/\", context))\n  end\nend\nif @format.nil?\nelse\n  case @format.as(String)\n  when \"uuid\"\n    self.check_format(@format.as(String), Format.is_uuid(value), errors, context)\n  end\nend\nif @enum_list.size == 0\nelse\n  enum_result = JSONSchema.validate_enum(node, @enum_list, context)\n  if enum_result.nil?\n  else\n    errors.push(enum_result.as(ValidationError))\n  end\nend\nvalidate_composites(@composites, node, errors)\nif errors.size > 0\n  return ValidationResult.new(:error, errors)\nend\nValidationResult.new(:success)\n"}}]},{"html_id":"json-schema-cr/JSONSchema/ValidationError","path":"JSONSchema/ValidationError.html","kind":"struct","full_name":"JSONSchema::ValidationError","name":"ValidationError","abstract":false,"superclass":{"html_id":"json-schema-cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"json-schema-cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"json-schema-cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/validator.cr","line_number":8,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L8"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Captures an error message and the corresponding path to the value where the error occurred.","summary":"<p>Captures an error message and the corresponding path to the value where the error occurred.</p>","constructors":[{"html_id":"new(message,context)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":""},{"name":"context","external_name":"context","restriction":""}],"args_string":"(message, context)","args_html":"(message, context)","location":{"filename":"src/validator.cr","line_number":14,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L14"},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":""},{"name":"context","external_name":"context","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(message, context)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"context:NodeContext-instance-method","name":"context","doc":" Provides a reference to where this error occurred in the input JSON. See `JSONSchema::NodeContext` for more information.","summary":"<p>Provides a reference to where this error occurred in the input JSON.</p>","abstract":false,"location":{"filename":"src/validator.cr","line_number":12,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L12"},"def":{"name":"context","return_type":"NodeContext","visibility":"Public","body":"@context"}},{"html_id":"message:String-instance-method","name":"message","doc":"Description of what error occurred.","summary":"<p>Description of what error occurred.</p>","abstract":false,"location":{"filename":"src/validator.cr","line_number":10,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L10"},"def":{"name":"message","return_type":"String","visibility":"Public","body":"@message"}}]},{"html_id":"json-schema-cr/JSONSchema/ValidationResult","path":"JSONSchema/ValidationResult.html","kind":"struct","full_name":"JSONSchema::ValidationResult","name":"ValidationResult","abstract":false,"superclass":{"html_id":"json-schema-cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"json-schema-cr/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"json-schema-cr/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"json-schema-cr/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/validator.cr","line_number":19,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L19"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Captures result of validation, including a status and any number of corresponding errors","summary":"<p>Captures result of validation, including a status and any number of corresponding errors</p>","constructors":[{"html_id":"new(status,errors=[]ofValidationError)-class-method","name":"new","abstract":false,"args":[{"name":"status","external_name":"status","restriction":""},{"name":"errors","default_value":"[] of ValidationError","external_name":"errors","restriction":""}],"args_string":"(status, errors = [] of ValidationError)","args_html":"(status, errors = <span class=\"o\">[]</span> <span class=\"k\">of</span> <span class=\"t\">ValidationError</span>)","location":{"filename":"src/validator.cr","line_number":24,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L24"},"def":{"name":"new","args":[{"name":"status","external_name":"status","restriction":""},{"name":"errors","default_value":"[] of ValidationError","external_name":"errors","restriction":""}],"visibility":"Public","body":"_ = allocate\n_.initialize(status, errors)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"errors:Array(ValidationError)-instance-method","name":"errors","abstract":false,"location":{"filename":"src/validator.cr","line_number":22,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L22"},"def":{"name":"errors","return_type":"Array(ValidationError)","visibility":"Public","body":"@errors"}},{"html_id":"status:Symbol-instance-method","name":"status","doc":"Either `:success` or `:error`","summary":"<p>Either <code>:success</code> or <code>:error</code></p>","abstract":false,"location":{"filename":"src/validator.cr","line_number":21,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L21"},"def":{"name":"status","return_type":"Symbol","visibility":"Public","body":"@status"}}]},{"html_id":"json-schema-cr/JSONSchema/Validator","path":"JSONSchema/Validator.html","kind":"alias","full_name":"JSONSchema::Validator","name":"Validator","abstract":false,"locations":[{"filename":"src/validator.cr","line_number":30,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/validator.cr#L30"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":true,"aliased":"(JSONSchema::ArrayValidator | JSONSchema::BooleanValidator | JSONSchema::CompositeValidator | JSONSchema::GenericValidator | JSONSchema::NullValidator | JSONSchema::NumberValidator | JSONSchema::ObjectValidator | JSONSchema::StringValidator)","aliased_html":"<a href=\"../JSONSchema/ArrayValidator.html\">JSONSchema::ArrayValidator</a> | <a href=\"../JSONSchema/BooleanValidator.html\">JSONSchema::BooleanValidator</a> | <a href=\"../JSONSchema/CompositeValidator.html\">JSONSchema::CompositeValidator</a> | <a href=\"../JSONSchema/GenericValidator.html\">JSONSchema::GenericValidator</a> | <a href=\"../JSONSchema/NullValidator.html\">JSONSchema::NullValidator</a> | <a href=\"../JSONSchema/NumberValidator.html\">JSONSchema::NumberValidator</a> | <a href=\"../JSONSchema/ObjectValidator.html\">JSONSchema::ObjectValidator</a> | <a href=\"../JSONSchema/StringValidator.html\">JSONSchema::StringValidator</a>","const":false,"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Alias type for any type of `Validator`. The top-level `Validator` returned from the macros\ncan be any one of the following.","summary":"<p>Alias type for any type of <code>Validator</code>.</p>"},{"html_id":"json-schema-cr/JSONSchema/ValidatorRender","path":"JSONSchema/ValidatorRender.html","kind":"module","full_name":"JSONSchema::ValidatorRender","name":"ValidatorRender","abstract":false,"locations":[{"filename":"src/render.cr","line_number":44,"url":"https://github.com/aarongodin/json-schema-cr/blob/bb6a862dd612b1419bfa36cdacc395729b4d04ad/src/render.cr#L44"}],"repository_name":"json-schema-cr","program":false,"enum":false,"alias":false,"const":false,"including_types":[{"html_id":"json-schema-cr/JSONSchema/ArrayValidator","kind":"class","full_name":"JSONSchema::ArrayValidator","name":"ArrayValidator"},{"html_id":"json-schema-cr/JSONSchema/CompositeValidator","kind":"class","full_name":"JSONSchema::CompositeValidator","name":"CompositeValidator"},{"html_id":"json-schema-cr/JSONSchema/GenericValidator","kind":"class","full_name":"JSONSchema::GenericValidator","name":"GenericValidator"},{"html_id":"json-schema-cr/JSONSchema/NumberValidator","kind":"class","full_name":"JSONSchema::NumberValidator","name":"NumberValidator"},{"html_id":"json-schema-cr/JSONSchema/ObjectValidator","kind":"class","full_name":"JSONSchema::ObjectValidator","name":"ObjectValidator"},{"html_id":"json-schema-cr/JSONSchema/StringValidator","kind":"class","full_name":"JSONSchema::StringValidator","name":"StringValidator"}],"namespace":{"html_id":"json-schema-cr/JSONSchema","kind":"module","full_name":"JSONSchema","name":"JSONSchema"},"doc":"Shared module to provide render capability to Validator classes.\nThis module is private and intended to only be used by the macros in this library.","summary":"<p>Shared module to provide render capability to Validator classes.</p>"}]}]}})